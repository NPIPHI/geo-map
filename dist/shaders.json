{ "polygon": { "type": "Polygon", "fragment": "#version 300 es\r\n\r\nin lowp vec4 fragColor;\r\nout lowp vec4 color;\r\n\r\nvoid main(){\r\n    color = fragColor;\r\n}", "vertex": "#version 300 es\r\n\r\nin vec2 vertexPosition;\r\nin int vertexStyle;\r\n\r\nuniform vec4[4] STYLETABLE1;\r\nuniform vec4[4] STYLETABLE2;\r\nuniform mat3 VIEW;\r\nuniform float STYLESCALAR;\r\nuniform float ZOOMLEVEL;\r\nuniform float RENDERHEIGHT;\r\n\r\nout vec4 fragColor;\r\n\r\nvoid main(){\r\n    gl_Position = vec4(VIEW * vec3(vertexPosition.x, vertexPosition.y, 1), 1);\r\n    fragColor = mix(STYLETABLE2[vertexStyle], STYLETABLE1[vertexStyle], STYLESCALAR);\r\n}", "attributes": ["vertexPosition", "vertexStyle"], "uniforms": ["STYLETABLE1", "STYLETABLE2", "VIEW", "STYLESCALAR", "ZOOMLEVEL", "RENDERHEIGHT"] }, "outline": { "type": "Outline", "fragment": "#version 300 es\r\n\r\nin lowp vec3 fragColor;\r\nout lowp vec4 color;\r\n\r\nvoid main(){\r\n    color = vec4(fragColor, 1);\r\n}", "vertex": "#version 300 es\r\n\r\nin vec2 vertexPosition;\r\nin vec2 vertexNormal;\r\nin int vertexStyle;\r\n\r\nuniform vec4[4] STYLETABLE1;\r\nuniform vec4[4] STYLETABLE2;\r\nuniform mat3 VIEW;\r\nuniform float STYLESCALAR;\r\nuniform float ZOOMLEVEL;\r\nuniform float RENDERHEIGHT;\r\n\r\nout vec3 fragColor;\r\n\r\nvoid main(){\r\n    vec4 style = mix(STYLETABLE2[vertexStyle], STYLETABLE1[vertexStyle], STYLESCALAR);\r\n    float thickness = style.w / RENDERHEIGHT / ZOOMLEVEL;\r\n    gl_Position = vec4(VIEW * vec3(vertexPosition.x + vertexNormal.x * thickness, vertexPosition.y + vertexNormal.y * thickness, 1), 1);\r\n    fragColor = style.xyz;\r\n}", "attributes": ["vertexPosition", "vertexNormal", "vertexStyle"], "uniforms": ["STYLETABLE1", "STYLETABLE2", "VIEW", "STYLESCALAR", "ZOOMLEVEL", "RENDERHEIGHT"] } }
